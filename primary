 public bool PrimaryPepEquals(PEPEntity x, PEPEntity y)
        { 
            var propList = typeof(PEPEntity).GetProperties();
            ChangedProperties = new Dictionary<string, List<string>>();

            foreach (var prop in propList)
            {
             if (prop.PropertyType.Name.StartsWith(typeof(IList).Name) || prop.PropertyType.Name.StartsWith(typeof(ICollection).Name))
                {
                    if (!prop.PropertyType.GetGenericArguments()[0].Name.StartsWith("String"))
                    {
                        var Xlist = prop.GetValue(x) as IList;
                        var Ylist = prop.GetValue(y) as IList;
                       if (prop.Name.Equals("PrimaryPeps", StringComparison.CurrentCultureIgnoreCase))
                        {
                            var modifiedProps = new List<string>();
                            var changedprimarypep = new StringBuilder();
                            if (Xlist.Count > 0 || Ylist.Count > 0)
                            {
                               foreach (var priamry in (Xlist as IList<PrimaryPepEntity>))
                                {
                                    var tocompare = (Ylist as IList<PrimaryPepEntity>).Where(i => i.PreviousPrimaryPepId == priamry.PrimaryPepId).FirstOrDefault();
                                    if (tocompare != null)
                                    {
                                        foreach (var p in prop.PropertyType.GetGenericArguments()[0].GetProperties())
                                        {
 
                                            if (p.PropertyType.IsValueType || p.PropertyType == typeof(string) || p.PropertyType == typeof(Nullable<DateTime>) || p.PropertyType == typeof(DateTime))
                                            {
                                                var c = (p.GetValue(tocompare) == null) ? string.Empty : p.GetValue(tocompare);
                                                var o = (p.GetValue(priamry) == null) ? string.Empty : p.GetValue(priamry);

                                                if (!Equals(c, o))
                                                {
                                                    if (p.Name.Equals("PrimaryPepId"))
                                                    {
                                                        changedprimarypep.Append(c.ToString() + "|");
                                                    }
                                                    changedprimarypep.Append(p.Name + "|");

                                                }

                                            }
                                            else if (p.Name.Contains("CDDGPrimaryPepAssociatedCountryLobs"))
                                            {
                                                var Xlistprimarypassociatedlob = p.GetValue(priamry) as IList;
                                                var Ylistprimarypassociatedlob = p.GetValue(tocompare) as IList;
                                                if (Ylistprimarypassociatedlob.Count > 0)
                                                {
                                                    var strLobs = (Ylistprimarypassociatedlob as IList<PrimaryPepAssociatedCountryLobEntity>).Select(i => i.LobId.ToString()).ToList().Except((Xlistprimarypassociatedlob as IList<PrimaryPepAssociatedCountryLobEntity>).Select(i => i.LobId.ToString()).ToList()).ToList();
                                                    if (strLobs.Count > 0)
                                                        changedprimarypep.Append(p.Name + "|");
                                                }

                                            }

                                            else if (p.Name.Contains("CDDGPrimaryPepCountryLobs"))
                                            {
                                                var Xlistprimarypassociatedlob = p.GetValue(priamry) as IList;
                                                var Ylistprimarypassociatedlob = p.GetValue(tocompare) as IList;
                                                if (Ylistprimarypassociatedlob.Count > 0)
                                                {
                                                    var strLobs = (Ylistprimarypassociatedlob as IList<PrimaryPepCountryLobEntity>).Select(i => i.LobId.ToString()).ToList().Except((Xlistprimarypassociatedlob as IList<PrimaryPepCountryLobEntity>).Select(i => i.LobId.ToString()).ToList()).ToList();
                                                    if (strLobs.Count > 0)
                                                        changedprimarypep.Append(p.Name + "|");
                                                }

                                            }

                                        }
                                        modifiedProps.Add(changedprimarypep.ToString());
                                        if (modifiedProps.Count > 0)
                                        {
                                            if (ChangedProperties.ContainsKey(prop.Name))
                                            {
                                                ChangedProperties.Remove(prop.Name);
                                                ChangedProperties.Add(prop.Name, modifiedProps);
                                            }
                                            else
                                            {
                                                ChangedProperties.Add(prop.Name, modifiedProps);
                                            }

                                        }
                                    }
                            

                                }
                                 
                            }
                        }

                    }
                }
 
            }

            return (ChangedProperties.Count == 0);

        }
